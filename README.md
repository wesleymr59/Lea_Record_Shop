# Lea_Record_Shop
Requisitos locais:
#
docker instalado e configurado
#
banco de dados POSTGRESQL
configurar as credenciais do banco no arquivo .env
#
No banco de dados executar em ordem os 4 comandos:
#
comando 1
CREATE TABLE public.discos (
	id serial4 NOT NULL,
	nome varchar NOT NULL,
	artista varchar NOT NULL,
	ano_lancamento date NULL,
	estilo varchar NOT NULL,
	quantidade int4 NOT NULL,
	CONSTRAINT discos_pk PRIMARY KEY (id),
	CONSTRAINT discos_un UNIQUE (nome)
);
#
comando 2
CREATE TABLE public.cliente (
	id int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	documento varchar NOT NULL,
	nome_completo varchar NOT NULL,
	data_nascimento date NOT NULL,
	email varchar NOT NULL,
	telefone varchar NOT NULL,
	ativo int4 NULL,
	CONSTRAINT cliente_pkey PRIMARY KEY (id),
	CONSTRAINT cliente_un UNIQUE (nome_completo)
);
#
comando 3
CREATE TABLE public.pedido (
	id serial4 NOT NULL,
	cliente varchar NOT NULL,
	disco varchar NOT NULL,
	quantidade int4 NULL,
	data_pedido date NOT NULL,
	CONSTRAINT pedido_pkey PRIMARY KEY (id),
	CONSTRAINT pedido_disco_fk FOREIGN KEY (disco) REFERENCES public.discos(nome),
	CONSTRAINT pedido_fk FOREIGN KEY (cliente) REFERENCES public.cliente(nome_completo)
);
#
comando 4
CREATE INDEX pedido_cliente_idx ON public.pedido USING btree (cliente);
CREATE INDEX pedido_disco_idx ON public.pedido USING btree (disco);
CREATE INDEX pedido_quantidade_idx ON public.pedido USING btree (quantidade);
#
#
PASSO 1
Docker Build:
Executar o comando para buildar a imagem
docker image build -t lea_record_shop:latest .
#
PASSO 2
Executar o comando para iniciar a imagem no container
docker container run -it -v ${pwd}:/usr/src/app --env-file .env -p 81:80 --name lea_record_shop lea_record_shop:latest
